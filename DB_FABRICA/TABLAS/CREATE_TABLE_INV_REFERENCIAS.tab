/*
AUTOR: DAVID RODRIGUEZ RIVERA
FECHA: 21/02/2021
DESC: CREACIÓN DE LA TABLA INV_REFERENCIAS
CAMPOS: 
ESQUEMA: DB_FABRICA
CODIGO_REF: CODIGO DE LA REFERENCIA (PRIMARY KEY)
DESCRIPCION_REF: DESCRIPCIOND DE LA REFERENCDIA
*/
DECLARE
VALOR NUMBER;

BEGIN 

  SELECT COUNT (*) INTO VALOR FROM ALL_TABLES WHERE TABLE_NAME = 'INV_REFERENCIAS' AND OWNER = 'DB_FABRICA';
  
  IF (VALOR = 0) THEN 
  EXECUTE IMMEDIATE 'CREATE TABLE "DB_FABRICA"."INV_REFERENCIAS"
    (
        REF_CODIGO number not null,
        REF_DESCRIPCION VARCHAR2(1000) NOT NULL,
        created_at TIMESTAMP,
        update_at TIMESTAMP,
        CONSTRAINT INV_REFERENCIAS_REF_CODIGO_PK PRIMARY KEY (REF_CODIGO)
    )';
    
 
  
  END IF;

END;
/
