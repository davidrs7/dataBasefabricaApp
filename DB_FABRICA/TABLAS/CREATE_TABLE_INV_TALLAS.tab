/*
AUTOR: DAVID RODRIGUEZ RIVERA
FECHA: 21/02/2021
DESC: CREACIÓN DE LA TABLA INV_TALLAS
CAMPOS: 
ESQUEMA: DB_FABRICA
TALLA_CODIGO: CODIGO DE LA REFERENCIA (PRIMARY KEY)
TALLA_DESCRIPCION: DESCRIPCIOND DE LAS TALLAS
*/

DECLARE
VALOR NUMBER;

BEGIN 

  SELECT COUNT (*) INTO VALOR FROM ALL_TABLES WHERE TABLE_NAME = 'INV_TALLAS' AND OWNER = 'DB_FABRICA';
  
  IF (VALOR = 0) THEN 
  EXECUTE IMMEDIATE '
    CREATE TABLE "DB_FABRICA"."INV_TALLAS"
    (
        TALLA_CODIGO number not null,
        TALLA_DESCRIPCION VARCHAR2(10) NOT NULL,
        created_at TIMESTAMP,
        update_at TIMESTAMP,
        CONSTRAINT INV_REFERENCIAS_TALLA_CODIGO_PK PRIMARY KEY (TALLA_CODIGO)
    )';
  
  END IF;

END;
/
