/*
AUTOR: DAVID RODRIGUEZ RIVERA
FECHA: 07/03/2021
DESC: CREACIÓN DE LA TABLA INV_TIPIDEN
CAMPOS: 
ESQUEMA: DB_FABRICA
TIPIDEN_CODIGO: CODIGO DEL COLOR (PRIMARY KEY)
TIPIDEN_DESCTIPCION: DESCRIPCION IDENTIFICACION
 
*/

DECLARE
VALOR NUMBER;

BEGIN 

  SELECT COUNT (*) INTO VALOR FROM ALL_TABLES WHERE TABLE_NAME = 'INV_TIPIDEN' AND OWNER = 'DB_FABRICA';
  
  IF (VALOR = 0) THEN 
  EXECUTE IMMEDIATE '
    CREATE TABLE "DB_FABRICA"."INV_TIPIDEN"
    (
        TIPIDEN_CODIGO number not null,
        TIPIDEN_DESCTIPCION VARCHAR2(500) NOT NULL, 
        created_at TIMESTAMP,
        update_at TIMESTAMP,
        CONSTRAINT INV_TIPIDEN_TIPIDEN_CODIGO_PK PRIMARY KEY (TIPIDEN_CODIGO)
    )';
  
  END IF;

END;
/
