/*
AUTOR: DAVID RODRIGUEZ RIVERA
FECHA: 21/02/2021
DESC: CREACIÓN DE LA TABLA INV_COLORES
CAMPOS: 
ESQUEMA: DB_FABRICA
COLOR_CODIGO: CODIGO DEL COLOR (PRIMARY KEY)
COLOR_DESCRIPCION: DESCRIPCION DEL COLOR
COLOR_CODIGO_HTML: CODIGO HEXADECIMAL HTML 
*/

DECLARE
VALOR NUMBER;

BEGIN 

  SELECT COUNT (*) INTO VALOR FROM ALL_TABLES WHERE TABLE_NAME = 'INV_COLORES' AND OWNER = 'DB_FABRICA';
  
  IF (VALOR = 0) THEN 
  EXECUTE IMMEDIATE '
    CREATE TABLE "DB_FABRICA"."INV_COLORES"
    (
        COLOR_CODIGO number not null,
        COLOR_DESCRIPCION VARCHAR2(500) NOT NULL,
        COLOR_CODIGO_HTML VARCHAR2(100), 
        created_at TIMESTAMP,
        update_at TIMESTAMP,
        CONSTRAINT INV_REFERENCIAS_COLOR_CODIGO_PK PRIMARY KEY (COLOR_CODIGO)
    )';
  
  END IF;

END;
/
